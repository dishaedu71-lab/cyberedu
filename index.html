<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Disha Computer Education LMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Poppins,Arial;background:#0f172a;color:white}
header{background:#020617;padding:15px;text-align:center}
nav a{color:#facc15;margin:10px;font-weight:bold;cursor:pointer}
section{padding:30px;text-align:center}
.hidden{display:none}
.card{background:white;color:black;padding:20px;margin:15px auto;max-width:500px;border-radius:10px}
input,select{width:90%;padding:10px;margin:5px}
button{padding:10px 20px;background:#2563eb;color:white;border:none;border-radius:5px;cursor:pointer}
button:hover{background:#1e40af}
.timer{color:red;font-weight:bold}
.cert{border:5px double black;padding:20px}
</style>
</head>
<body>

<header>
<h1>Disha Computer Education</h1>
<p>Professional Online Exam & Certification Portal</p>
<nav>
<a onclick="show('home')">Home</a>
<a onclick="show('register')">Student Register</a>
<a onclick="show('login')">Student Login</a>
<a onclick="show('adminLogin')">Admin Login</a>
<a onclick="startExam()">Start Exam</a>
</nav>
</header>

<section id="home">
<h2>Welcome to Disha Computer Education</h2>
<p>We provide professional computer courses with Online Exams & Certificates.</p>
<h3>Our Courses</h3>
<p>CCC | ADCA | O-Level | Tally Prime with GST</p>
<h3>Features</h3>
<p>✔ Online Exams<br>✔ Instant Result<br>✔ Auto Certificate<br>✔ Course-wise Question Bank</p>
</section>

<!-- STUDENT REGISTER -->
<section id="register" class="hidden">
<div class="card">
<h3>Student Registration</h3>
<input id="rName" placeholder="Student Name">
<select id="rCourse"></select>
<input id="rPass" placeholder="Password">
<button onclick="register()">Register</button>
<p id="rMsg"></p>
</div>
</section>

<!-- STUDENT LOGIN -->
<section id="login" class="hidden">
<div class="card">
<h3>Student Login</h3>
<input id="lName" placeholder="Student Name">
<input id="lPass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="lMsg"></p>
</div>
</section>

<!-- ADMIN LOGIN -->
<section id="adminLogin" class="hidden">
<div class="card">
<h3>Admin Login</h3>
<input id="aEmail" placeholder="Admin Email">
<input id="aPass" type="password" placeholder="Password">
<button onclick="adminLogin()">Login</button>
<p id="aMsg"></p>
</div>
</section>

<!-- DASHBOARD -->
<section id="dashboard" class="hidden">
<h2>Dashboard</h2>
<p id="welcome"></p>
<button onclick="logout()">Logout</button>

<!-- ADMIN PANEL -->
<div id="adminPanel" class="card hidden">
<h3>Admin Control Panel</h3>

<h4>Add Course</h4>
<input id="newCourse" placeholder="Course Name">
<button onclick="addCourse()">Add Course</button>

<h4>Add Question</h4>
<select id="qCourse"></select>
<input id="qText" placeholder="Question">
<input id="o1" placeholder="Option 1">
<input id="o2" placeholder="Option 2">
<input id="o3" placeholder="Option 3">
<input id="o4" placeholder="Option 4">
<select id="correct">
<option value="0">Correct: Option 1</option>
<option value="1">Correct: Option 2</option>
<option value="2">Correct: Option 3</option>
<option value="3">Correct: Option 4</option>
</select>
<button onclick="addQuestion()">Save Question</button>
<p id="qMsg"></p>
</div>

<!-- STUDENT PANEL -->
<div id="studentPanel" class="card hidden">
<h3>Student Panel</h3>
<p id="resultArea">No Exam Given</p>
<button onclick="printCert()">Print Certificate</button>
</div>

</section>

<!-- EXAM -->
<section id="exam" class="hidden">
<div class="card">
<h3 id="examCourse"></h3>
<p class="timer">Time Left: <span id="qt">15</span>s</p>
<h3 id="q"></h3>
<div id="opts"></div>
</div>
</section>

<footer style="background:#020617;padding:15px">© 2026 Disha Computer Education</footer>

<script>
// INITIAL DATA
let courses = JSON.parse(localStorage.getItem("courses")) || ["CCC","ADCA","O-Level","Tally"];
let users = JSON.parse(localStorage.getItem("users")) || [];
let questions = JSON.parse(localStorage.getItem("questions")) || [];

// NAV
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
loadCourses();
}

// LOAD COURSES
function loadCourses(){
rCourse.innerHTML="";
qCourse.innerHTML="";
courses.forEach(c=>{
rCourse.innerHTML+=`<option>${c}</option>`;
qCourse.innerHTML+=`<option>${c}</option>`;
});
}

// REGISTER
function register(){
if(!rName.value || !rPass.value){rMsg.innerText="Fill all fields";return;}
users.push({name:rName.value,pass:rPass.value,course:rCourse.value});
localStorage.setItem("users",JSON.stringify(users));
rMsg.innerText="Registered Successfully!";
}

// STUDENT LOGIN
function login(){
let u=users.find(x=>x.name===lName.value && x.pass===lPass.value);
if(!u){lMsg.innerText="Invalid Login";return;}
localStorage.setItem("student",JSON.stringify(u));
localStorage.setItem("role","student");
openDashboard();
}

// ADMIN LOGIN
function adminLogin(){
if(aEmail.value==="admin@disha.com" && aPass.value==="admin123"){
localStorage.setItem("role","admin");
openDashboard();
}else aMsg.innerText="Invalid Admin Login";
}

// DASHBOARD
function openDashboard(){
show("dashboard");
let role=localStorage.getItem("role");
adminPanel.classList.add("hidden");
studentPanel.classList.add("hidden");

if(role==="admin"){
welcome.innerText="Welcome Admin";
adminPanel.classList.remove("hidden");
}
if(role==="student"){
let s=JSON.parse(localStorage.getItem("student"));
welcome.innerText="Welcome "+s.name+" ("+s.course+")";
studentPanel.classList.remove("hidden");
resultArea.innerHTML=localStorage.getItem("result")||"No Exam Given";
}
}

// LOGOUT
function logout(){localStorage.clear();show("home");}

// ADD COURSE
function addCourse(){
courses.push(newCourse.value);
localStorage.setItem("courses",JSON.stringify(courses));
loadCourses();
alert("Course Added");
}

// ADD QUESTION
function addQuestion(){
let q={
course:qCourse.value,
text:qText.value,
opts:[o1.value,o2.value,o3.value,o4.value],
correct:Number(correct.value)
};
questions.push(q);
localStorage.setItem("questions",JSON.stringify(questions));
qMsg.innerText="Question Saved!";
}

// EXAM
let examQs=[],i=0,score=0,time=15,timer;
function startExam(){
let role=localStorage.getItem("role");
if(role!=="student"){alert("Student Login Required");return;}
let s=JSON.parse(localStorage.getItem("student"));
examQs=questions.filter(q=>q.course===s.course);
if(examQs.length==0){alert("No Questions Added for this course");return;}
examQs=examQs.sort(()=>0.5-Math.random()).slice(0,10);
i=0;score=0;
show("exam");
examCourse.innerText="Course: "+s.course;
nextQ();
}
function nextQ(){
if(i>=examQs.length){finish();return;}
time=15;qt.innerText=time;
q.innerText=(i+1)+". "+examQs[i].text;
opts.innerHTML="";
examQs[i].opts.forEach((o,idx)=>{
opts.innerHTML+=`<button onclick="ans(${idx})">${o}</button><br><br>`;
});
timer=setInterval(()=>{
time--;qt.innerText=time;
if(time<=0){clearInterval(timer);i++;nextQ();}
},1000);
}
function ans(a){
clearInterval(timer);
if(a===examQs[i].correct)score++;
i++;nextQ();
}
function finish(){
let s=JSON.parse(localStorage.getItem("student"));
let percent=(score/examQs.length)*100;
let res=`<b>Name:</b> ${s.name}<br><b>Course:</b> ${s.course}<br><b>Score:</b> ${score}/${examQs.length}<br><b>Status:</b> ${percent>=60?"PASS":"FAIL"}`;
localStorage.setItem("result",res);
openDashboard();
}

// CERTIFICATE
function printCert(){
let s=JSON.parse(localStorage.getItem("student"));
let w=window.open("");
w.document.write(`
<div class='cert'>
<h1>Disha Computer Education</h1>
<h2>Certificate of Achievement</h2>
<p>This certifies that</p>
<h2>${s.name}</h2>
<p>has successfully completed</p>
<h3>${s.course} Course</h3>
<p>Certificate ID: CERT${Date.now()}</p>
</div>
`);
w.print();
}

show("home");
</script>
</body>
</html>
