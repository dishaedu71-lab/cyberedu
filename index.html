<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Disha Computer Education | LMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Poppins,Arial;background:#0f172a;color:white}
header{background:#020617;padding:15px;text-align:center;position:sticky;top:0}
nav a{color:#facc15;margin:10px;font-weight:bold;cursor:pointer;text-decoration:none}
nav a:hover{color:white}
section{padding:30px;text-align:center}
.hidden{display:none}
.card{background:white;color:black;padding:20px;margin:20px auto;max-width:520px;border-radius:10px}
input,select{width:90%;padding:10px;margin:6px}
button{padding:10px 20px;background:#2563eb;color:white;border:none;border-radius:6px;cursor:pointer}
button:hover{background:#1e40af}
.timer{color:red;font-weight:bold}
.progress{height:8px;background:#ddd;border-radius:5px;overflow:hidden}
.bar{height:8px;background:#22c55e;width:100%}
footer{background:#020617;padding:15px}
.cert{border:5px double #000;padding:20px;text-align:center;font-family:Georgia}
</style>
</head>
<body>

<header>
<h1>Disha Computer Education</h1>
<p>Professional Online Examination System</p>
<nav>
<a onclick="show('home')">Home</a>
<a onclick="show('register')">Student Register</a>
<a onclick="show('login')">Student Login</a>
<a onclick="show('adminLogin')">Admin Login</a>
<a onclick="startExam()">Exam</a>
</nav>
</header>

<!-- HOME -->
<section id="home">
<h2>Welcome to Disha Computer Education LMS</h2>
<p>Online Exam ‚Ä¢ Course-wise Test ‚Ä¢ Result ‚Ä¢ Certificate</p>

<div class="card">
<h3>Courses</h3>
O Level ‚Ä¢ CCC ‚Ä¢ ADCA ‚Ä¢ Tally ‚Ä¢ Web Designing
</div>

<div class="card">
<h3>System Features</h3>
‚úî Course-wise Exam  
‚úî Instant Result  
‚úî Certificate  
‚úî Admin Question Control  
‚úî Leaderboard  
</div>

<div class="card">
<h3>Student Instructions</h3>
1. Register with Name & Course  
2. Login to Start Exam  
3. 15 Seconds per Question  
4. 60% Marks to Pass  
</div>
</section>

<!-- STUDENT REGISTER -->
<section id="register" class="hidden">
<div class="card">
<h3>Student Registration</h3>
<input id="rName" placeholder="Full Name">
<input id="rEmail" placeholder="Email">
<select id="rCourse">
<option value="">Select Course</option>
<option>O Level</option>
<option>CCC</option>
<option>ADCA</option>
<option>Tally</option>
<option>Web Designing</option>
</select>
<input id="rPass" type="password" placeholder="Password">
<button onclick="register()">Register</button>
<p id="rMsg"></p>
</div>
</section>

<!-- STUDENT LOGIN -->
<section id="login" class="hidden">
<div class="card">
<h3>Student Login</h3>
<input id="email" placeholder="Email">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="lMsg"></p>
</div>
</section>

<!-- ADMIN LOGIN -->
<section id="adminLogin" class="hidden">
<div class="card">
<h3>Admin Login</h3>
<input id="aEmail" placeholder="Admin Email">
<input id="aPass" type="password" placeholder="Password">
<button onclick="adminLogin()">Login</button>
<p id="aMsg"></p>
</div>
</section>

<!-- DASHBOARD -->
<section id="dashboard" class="hidden">
<h2>Dashboard</h2>
<p id="role"></p>
<button onclick="logout()">Logout</button>

<!-- ADMIN PANEL -->
<div class="card" id="adminBox">
<h3>Admin Control Panel</h3>
<p>Total Students: <b id="uCount"></b></p>

<h4>Add Course-wise Question</h4>
<select id="qCourse">
<option>O Level</option>
<option>CCC</option>
<option>ADCA</option>
<option>Tally</option>
<option>Web Designing</option>
</select>
<input id="qText" placeholder="Question">
<input id="o1" placeholder="Option 1">
<input id="o2" placeholder="Option 2">
<input id="o3" placeholder="Option 3">
<input id="o4" placeholder="Option 4">
<select id="correct">
<option value="0">Correct Option 1</option>
<option value="1">Correct Option 2</option>
<option value="2">Correct Option 3</option>
<option value="3">Correct Option 4</option>
</select>
<button onclick="addQuestion()">Add Question</button>
<p id="qMsg"></p>
</div>

<!-- STUDENT PANEL -->
<div class="card" id="studentBox">
<h3>Your Result</h3>
<div id="resultArea"></div>
<button onclick="printPDF()">Download Result PDF</button>
<button onclick="printCert()">Print Certificate</button>
</div>

<div class="card">
<h3>üèÜ Leaderboard</h3>
<div id="leader"></div>
</div>
</section>

<!-- EXAM -->
<section id="exam" class="hidden">
<div class="card">
<p class="timer">Time Left: <span id="qt">15</span>s</p>
<div class="progress"><div class="bar" id="bar"></div></div>
<h3 id="q"></h3>
<div id="opts"></div>
</div>
</section>

<footer>¬© 2026 Disha Computer Education</footer>

<script>
// USERS
let users = JSON.parse(localStorage.getItem("users")) || [
{name:"Admin",email:"admin@disha.com",pass:"admin123",role:"admin"}
];

let bank = JSON.parse(localStorage.getItem("bank")) || [
["O Level","HTML stands for?","Hyper Text Markup","High Text","Hyper Tool","None",0],
["CCC","CPU full form?","Central Processing Unit","Control Unit","Computer Unit","None",0]
];

let leaderboard = JSON.parse(localStorage.getItem("leaderboard")) || [];

// NAV
function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}

// STUDENT REGISTER
function register(){
if(!rName.value || !rEmail.value || !rCourse.value || !rPass.value){
rMsg.innerText="All fields required"; return;
}
users.push({name:rName.value,email:rEmail.value,pass:rPass.value,role:"student",course:rCourse.value});
localStorage.setItem("users",JSON.stringify(users));
rMsg.innerText="Registered Successfully";
}

// STUDENT LOGIN
function login(){
let u = users.find(x=>x.email===email.value && x.pass===pass.value && x.role==="student");
if(!u){lMsg.innerText="Invalid Student Login";return;}
localStorage.setItem("user",JSON.stringify(u));
localStorage.setItem("role","student");
openDashboard();
}

// ADMIN LOGIN
function adminLogin(){
if(aEmail.value==="admin@disha.com" && aPass.value==="admin123"){
localStorage.setItem("role","admin");
openDashboard();
}else{
aMsg.innerText="Invalid Admin Login";
}
}

// DASHBOARD
function openDashboard(){
let r=localStorage.getItem("role");
if(!r){show("home");return;}
show("dashboard");
role.innerText="Role: "+r;
adminBox.style.display = (r==="admin") ? "block" : "none";
studentBox.style.display = (r==="student") ? "block" : "none";
uCount.innerText = users.filter(u=>u.role==="student").length;
resultArea.innerHTML = localStorage.getItem("result") || "No Exam Given";
showLeader();
}

// LOGOUT
function logout(){
localStorage.clear();
show("home");
}

// ADMIN ADD QUESTION
function addQuestion(){
bank.push([qCourse.value,qText.value,o1.value,o2.value,o3.value,o4.value,parseInt(correct.value)]);
localStorage.setItem("bank",JSON.stringify(bank));
qMsg.innerText="Question Added Successfully!";
}

// EXAM
let qs=[],i=0,score=0,time=15,timer;
function startExam(){
let user=JSON.parse(localStorage.getItem("user"));
if(!user){show("login");return;}
qs = bank.filter(b=>b[0]===user.course).sort(()=>0.5-Math.random()).slice(0,10);
if(qs.length===0){alert("No Questions for this course");return;}
i=0;score=0;
show("exam");nextQ();
}
function nextQ(){
clearInterval(timer);
if(i>=qs.length){finish();return;}
time=15;qt.innerText=time;
bar.style.width="100%";
q.innerText=(i+1)+". "+qs[i][1];
opts.innerHTML="";
for(let x=2;x<=5;x++){
opts.innerHTML+=`<button onclick="ans(${x-2})">${qs[i][x]}</button><br><br>`;
}
timer=setInterval(()=>{
time--;qt.innerText=time;
bar.style.width=(time/15*100)+"%";
if(time<=0){clearInterval(timer);i++;nextQ();}
},1000);
}
function ans(a){
clearInterval(timer);
if(a===qs[i][6])score++;
i++;nextQ();
}

// FINISH
function finish(){
show("dashboard");
let res=`<b>Score:</b> ${score}/${qs.length} <br><b>Status:</b> ${score>=6?"PASS":"FAIL"}`;
localStorage.setItem("result",res);

let user=JSON.parse(localStorage.getItem("user"));
leaderboard.push({name:user.name,score:score});
leaderboard.sort((a,b)=>b.score-a.score);
leaderboard=leaderboard.slice(0,5);
localStorage.setItem("leaderboard",JSON.stringify(leaderboard));

if(score>=6){
localStorage.setItem("cert","CERT"+Date.now());
}
openDashboard();
}

// LEADERBOARD
function showLeader(){
leader.innerHTML="";
leaderboard.forEach((l,i)=>{
leader.innerHTML+=`${i+1}. ${l.name} - ${l.score}<br>`;
});
}

// PDF
function printPDF(){
let w=window.open("");
w.document.write("<h2>Exam Result</h2>"+localStorage.getItem("result"));
w.print();
}

// CERTIFICATE
function printCert(){
let c=localStorage.getItem("cert");
if(!c){alert("No Certificate Available");return;}
let user=JSON.parse(localStorage.getItem("user"));
let w=window.open("");
w.document.write(`
<div class='cert'>
<h1>Disha Computer Education</h1>
<h2>Certificate of Achievement</h2>
<p>This certifies that</p>
<h2>${user.name}</h2>
<p>has successfully passed ${user.course} Examination</p>
<p>Certificate ID: ${c}</p>
</div>
`);
w.print();
}
</script>
</body>
</html>
