<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Disha Computer Education LMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Poppins;background:linear-gradient(120deg,#020617,#0f172a,#1e3a8a);color:white}
header{background:#020617;border-bottom:2px solid gold;position:sticky;top:0}
nav{display:flex;justify-content:space-between;align-items:center;padding:15px 30px}
nav h2{color:gold}
nav a{color:white;margin:0 10px;text-decoration:none}
nav a:hover{color:gold}
section{padding:60px 20px}
.hidden{display:none}
.card{background:white;color:black;max-width:550px;margin:20px auto;padding:20px;border-radius:10px}
button{background:#2563eb;color:white;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}
button:hover{background:#1e40af}
input,textarea{width:100%;padding:10px;margin:6px 0}
.listBox{background:#0f172a;color:white;padding:10px;margin:5px;border-radius:5px}
</style>
</head>
<body>

<header>
<nav>
<h2>Disha Computer</h2>
<div>
<a onclick="show('home')">Home</a>
<a onclick="show('login')">Login</a>
<a onclick="show('register')">Register</a>
<a onclick="adminLogin()">Admin</a>
<a onclick="logout()">Logout</a>
</div>
</nav>
</header>

<section id="home">
<div class="card">
<h2>Indiaâ€™s Trusted Computer Education</h2>
<p>Online Exam â€¢ Certificates â€¢ LMS</p>
</div>
</section>

<section id="register" class="hidden">
<div class="card">
<h2>Student Registration</h2>
<input id="rname" placeholder="Name">
<input id="remail" placeholder="Email">
<input id="rpass" placeholder="Password">
<button onclick="register()">Register</button>
</div>
</section>

<section id="login" class="hidden">
<div class="card">
<h2>Student Login</h2>
<input id="lemail" placeholder="Email">
<input id="lpass" placeholder="Password">
<p id="msg"></p>
<button onclick="login()">Login</button>
</div>
</section>

<section id="student" class="hidden">
<div class="card">
<h2>Student Dashboard</h2>
<p id="sname"></p>
<p id="sid"></p>
<button onclick="startOtp()">Start Exam</button>
</div>
</section>

<section id="otpSec" class="hidden">
<div class="card">
<h2>OTP Verification</h2>
<p>OTP: <b id="showOtp"></b></p>
<input id="otpInput">
<button onclick="verifyOtp()">Start Exam</button>
</div>
</section>

<section id="exam" class="hidden">
<div class="card">
<h2>Online Exam</h2>
<p id="qtext"></p>
<div id="options"></div>
<button onclick="nextQuestion()">Next</button>
</div>
</section>

<section id="result" class="hidden">
<div class="card">
<h2>Result</h2>
<p id="rmarks"></p>
</div>
</section>

<section id="admin" class="hidden">
<div class="card">
<h2>ADMIN PANEL</h2>

<h3>Add Question</h3>
<textarea id="aq"></textarea>
<input id="ao1" placeholder="Option 1">
<input id="ao2" placeholder="Option 2">
<input id="ao3" placeholder="Option 3">
<input id="ao4" placeholder="Option 4">
<input id="ac" placeholder="Correct Option">
<button onclick="addQuestion()">Add</button>

<hr>

<button onclick="exportQuestions()">ðŸ“¤ Export Question Bank</button>
<input type="file" id="importFile" onchange="importQuestions(event)">
<button>ðŸ“¥ Import Question Bank</button>

<h3>Question Bank</h3>
<div id="questionList"></div>
</div>
</section>

<script>
let users=JSON.parse(localStorage.getItem("users"))||[
{id:"ADMIN",name:"Admin",email:"admin@disha.com",pass:"admin123",role:"admin"}
];
let questions=JSON.parse(localStorage.getItem("questions"))||[];
let currentUser,examIndex=0,score=0,otpCode=0;

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}

function register(){
let id="DC"+Math.floor(Math.random()*9999);
users.push({id,name:rname.value,email:remail.value,pass:rpass.value,role:"student"});
localStorage.setItem("users",JSON.stringify(users));
show("login");
}

function login(){
let u=users.find(x=>x.email===lemail.value && x.pass===lpass.value);
if(!u){msg.innerText="Invalid";return;}
currentUser=u;
if(u.role==="admin"){show("admin");loadAdmin();}
else{show("student");sname.innerText=u.name;sid.innerText=u.id;}
}

function logout(){show("home");}

function startOtp(){
otpCode=Math.floor(1000+Math.random()*9000);
show("otpSec");
showOtp.innerText=otpCode;
}

function verifyOtp(){
if(otpInput.value==otpCode){
examIndex=0;score=0;
show("exam");loadQuestion();
}
}

function loadQuestion(){
let q=questions[examIndex];
qtext.innerText=q.q;
options.innerHTML="";
[q.o1,q.o2,q.o3,q.o4].forEach(o=>{
options.innerHTML+=`<label><input type="radio" name="ans" value="${o}">${o}</label><br>`;
});
}

function nextQuestion(){
let a=document.querySelector("input[name=ans]:checked");
if(a && a.value===questions[examIndex].c) score++;
examIndex++;
if(examIndex>=questions.length){
show("result");
rmarks.innerText="Score: "+score+"/"+questions.length;
}else loadQuestion();
}

function addQuestion(){
questions.push({q:aq.value,o1:ao1.value,o2:ao2.value,o3:ao3.value,o4:ao4.value,c:ac.value});
localStorage.setItem("questions",JSON.stringify(questions));
loadAdmin();
}

function loadAdmin(){
questionList.innerHTML="";
questions.forEach(q=>{
questionList.innerHTML+=`<div class="listBox">${q.q}</div>`;
});
}

/* ðŸ”¥ EXPORT / IMPORT SYSTEM */
function exportQuestions(){
let blob=new Blob([JSON.stringify(questions)],{type:"application/json"});
let a=document.createElement("a");
a.href=URL.createObjectURL(blob);
a.download="disha_question_bank.json";
a.click();
}

function importQuestions(e){
let file=e.target.files[0];
let reader=new FileReader();
reader.onload=()=>{
questions=JSON.parse(reader.result);
localStorage.setItem("questions",JSON.stringify(questions));
loadAdmin();
alert("Question Bank Loaded Successfully");
};
reader.readAsText(file);
}

show("home");
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Disha Computer Education LMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Poppins;background:linear-gradient(120deg,#020617,#0f172a,#1e3a8a);color:white}
header{background:#020617;border-bottom:2px solid gold;position:sticky;top:0}
nav{display:flex;justify-content:space-between;align-items:center;padding:15px 30px}
nav h2{color:gold}
nav a{color:white;margin:0 10px;text-decoration:none}
nav a:hover{color:gold}
section{padding:60px 20px}
.hidden{display:none}
.card{background:white;color:black;max-width:550px;margin:20px auto;padding:20px;border-radius:10px}
button{background:#2563eb;color:white;border:none;padding:10px 15px;border-radius:5px;cursor:pointer}
button:hover{background:#1e40af}
input,textarea{width:100%;padding:10px;margin:6px 0}
.listBox{background:#0f172a;color:white;padding:10px;margin:5px;border-radius:5px}
</style>
</head>
<body>

<header>
<nav>
<h2>Disha Computer</h2>
<div>
<a onclick="show('home')">Home</a>
<a onclick="show('login')">Login</a>
<a onclick="show('register')">Register</a>
<a onclick="adminLogin()">Admin</a>
<a onclick="logout()">Logout</a>
</div>
</nav>
</header>

<section id="home">
<div class="card">
<h2>Indiaâ€™s Trusted Computer Education</h2>
<p>Online Exam â€¢ Certificates â€¢ LMS</p>
</div>
</section>

<section id="register" class="hidden">
<div class="card">
<h2>Student Registration</h2>
<input id="rname" placeholder="Name">
<input id="remail" placeholder="Email">
<input id="rpass" placeholder="Password">
<button onclick="register()">Register</button>
</div>
</section>

<section id="login" class="hidden">
<div class="card">
<h2>Student Login</h2>
<input id="lemail" placeholder="Email">
<input id="lpass" placeholder="Password">
<p id="msg"></p>
<button onclick="login()">Login</button>
</div>
</section>

<section id="student" class="hidden">
<div class="card">
<h2>Student Dashboard</h2>
<p id="sname"></p>
<p id="sid"></p>
<button onclick="startOtp()">Start Exam</button>
</div>
</section>

<section id="otpSec" class="hidden">
<div class="card">
<h2>OTP Verification</h2>
<p>OTP: <b id="showOtp"></b></p>
<input id="otpInput">
<button onclick="verifyOtp()">Start Exam</button>
</div>
</section>

<section id="exam" class="hidden">
<div class="card">
<h2>Online Exam</h2>
<p id="qtext"></p>
<div id="options"></div>
<button onclick="nextQuestion()">Next</button>
</div>
</section>

<section id="result" class="hidden">
<div class="card">
<h2>Result</h2>
<p id="rmarks"></p>
</div>
</section>

<section id="admin" class="hidden">
<div class="card">
<h2>ADMIN PANEL</h2>

<h3>Add Question</h3>
<textarea id="aq"></textarea>
<input id="ao1" placeholder="Option 1">
<input id="ao2" placeholder="Option 2">
<input id="ao3" placeholder="Option 3">
<input id="ao4" placeholder="Option 4">
<input id="ac" placeholder="Correct Option">
<button onclick="addQuestion()">Add</button>

<hr>

<button onclick="exportQuestions()">ðŸ“¤ Export Question Bank</button>
<input type="file" id="importFile" onchange="importQuestions(event)">
<button>ðŸ“¥ Import Question Bank</button>

<h3>Question Bank</h3>
<div id="questionList"></div>
</div>
</section>

<script>
let users=JSON.parse(localStorage.getItem("users"))||[
{id:"ADMIN",name:"Admin",email:"admin@disha.com",pass:"admin123",role:"admin"}
];
let questions=JSON.parse(localStorage.getItem("questions"))||[];
let currentUser,examIndex=0,score=0,otpCode=0;

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}

function register(){
let id="DC"+Math.floor(Math.random()*9999);
users.push({id,name:rname.value,email:remail.value,pass:rpass.value,role:"student"});
localStorage.setItem("users",JSON.stringify(users));
show("login");
}

function login(){
let u=users.find(x=>x.email===lemail.value && x.pass===lpass.value);
if(!u){msg.innerText="Invalid";return;}
currentUser=u;
if(u.role==="admin"){show("admin");loadAdmin();}
else{show("student");sname.innerText=u.name;sid.innerText=u.id;}
}

function logout(){show("home");}

function startOtp(){
otpCode=Math.floor(1000+Math.random()*9000);
show("otpSec");
showOtp.innerText=otpCode;
}

function verifyOtp(){
if(otpInput.value==otpCode){
examIndex=0;score=0;
show("exam");loadQuestion();
}
}

function loadQuestion(){
let q=questions[examIndex];
qtext.innerText=q.q;
options.innerHTML="";
[q.o1,q.o2,q.o3,q.o4].forEach(o=>{
options.innerHTML+=`<label><input type="radio" name="ans" value="${o}">${o}</label><br>`;
});
}

function nextQuestion(){
let a=document.querySelector("input[name=ans]:checked");
if(a && a.value===questions[examIndex].c) score++;
examIndex++;
if(examIndex>=questions.length){
show("result");
rmarks.innerText="Score: "+score+"/"+questions.length;
}else loadQuestion();
}

function addQuestion(){
questions.push({q:aq.value,o1:ao1.value,o2:ao2.value,o3:ao3.value,o4:ao4.value,c:ac.value});
localStorage.setItem("questions",JSON.stringify(questions));
loadAdmin();
}

function loadAdmin(){
questionList.innerHTML="";
questions.forEach(q=>{
questionList.innerHTML+=`<div class="listBox">${q.q}</div>`;
});
}

/* ðŸ”¥ EXPORT / IMPORT SYSTEM */
function exportQuestions(){
let blob=new Blob([JSON.stringify(questions)],{type:"application/json"});
let a=document.createElement("a");
a.href=URL.createObjectURL(blob);
a.download="disha_question_bank.json";
a.click();
}

function importQuestions(e){
let file=e.target.files[0];
let reader=new FileReader();
reader.onload=()=>{
questions=JSON.parse(reader.result);
localStorage.setItem("questions",JSON.stringify(questions));
loadAdmin();
alert("Question Bank Loaded Successfully");
};
reader.readAsText(file);
}

show("home");
</script>
</body>
</html>
